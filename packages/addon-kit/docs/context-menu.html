<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">
<head>
  <base href="https://addons.mozilla.org/en-US/developers/docs/sdk/1.0/" >
  <meta http-equiv="Content-type" content="text/html; charset=utf-8">
  <script type="text/javascript" src="syntaxhighlighter/scripts/shCore.js"></script>
  <script type="text/javascript" src="syntaxhighlighter/scripts/shBrushCss.js"></script>
  <script type="text/javascript" src="syntaxhighlighter/scripts/shBrushXml.js"></script>
  <script type="text/javascript" src="syntaxhighlighter/scripts/shBrushJScript.js"></script>
  <link rel="stylesheet" type="text/css" media="all" href="css/base.css">
  <link rel="stylesheet" type="text/css" media="all" href="css/header.css">
  <link rel="stylesheet" type="text/css" media="all" href="css/footer.css">
  <link rel="stylesheet" type="text/css" media="all" href="css/sdk-docs.css">
  <link rel="stylesheet" type="text/css" media="all" href="css/api-reference.css">
  <link rel="stylesheet" type="text/css" href="syntaxhighlighter/styles/shCore.css">
  <link rel="stylesheet" type="text/css" href="syntaxhighlighter/styles/shThemeDefault.css">
  <link rel="shortcut icon" type="image/x-icon" href="media/favicon.png">
  <title>context-menu - Add-on SDK Documentation</title>
</head>
<body>

<header id="global-header">
  <div class="funnel">
    <a id="mozilla-tab" href="http://www.mozilla.org/?ref=logo">Mozilla</a>
    <div class="menu">
      <p>
        <a href="https://addons.mozilla.org/en-US/developers/">Back to Developer Hub</a>
      </p>
  </div>
</header>


<header id="site-header">
  <div class="funnel">
    <h1>
      <a href="dev-guide/welcome.html">Add-on SDK<span></span></a>
    </h1>
  </div>
</header>

  <div id="container">

  <div id="columns">

  <div id="main-content-column" class="column">
    <div id="toc"></div>
    <div id="main-content">
<div id="context-menu_module_api_docs" class="module_api_docs">
<h1>context-menu</h1>
<div class="module_description"><!-- contributed by Drew Willcoxon [adw@mozilla.com]  -->
<!-- edited by Noelle Murata [fiveinchpixie@gmail.com]  -->

<p>The <code>context-menu</code> module lets you add items to Firefox's page context menu.</p>
<h2>Introduction</h2>
<p>The <code>context-menu</code> API provides a simple, declarative way to add items to the
page's context menu.  You can add items that perform an action when clicked,
submenus, and menu separators.</p>
<p>Instead of manually adding items when particular contexts occur and then
removing them when those contexts go away, you <em>bind</em> items to contexts, and the
adding and removing is automatically handled for you.</p>
<p>Items are bound to contexts in much the same way that event listeners are bound
to events.  When the user invokes the context menu, all of the items bound to
the current context are automatically added to the menu.  If no items are bound,
none are added.  Likewise, any items that were previously in the menu but are
not bound to the current context are automatically removed from the menu.  You
never need to manually remove your items from the menu unless you want them to
never appear again.</p>
<p>For example, if your extension needs to add a context menu item whenever the
user visits a certain page, don't create the item when that page loads, and
don't remove it when the page unloads.  Rather, create your item only once, when
your program starts, and supply a context that matches the target URL.</p>
<h2>Specifying Contexts</h2>
<p>As its name implies, the context menu should be reserved for the occurrence of
specific contexts.  Contexts can be related to page content or the page itself,
but they should never be external to the page.</p>
<p>For example, a good use of the menu would be to show an "Edit Image" item when
the user right-clicks an image in the page.  A bad use would be to show a
submenu that listed all the user's tabs, since tabs aren't related to the page
or the node the user clicked to open the menu.</p>
<h3>The Page Context</h3>
<p>First of all, you may not need to specify a context at all.  When an item does
not specify a context, the <em>page context</em> applies.  The page context occurs
when the user invokes the context menu on a non-interactive portion of the page.</p>
<p>Try right-clicking a blank spot in a page, or on text.  Make sure that no text
is selected.  The menu that appears should contain the items "Back", "Forward",
"Reload", "Stop", and so on.  This is the page context.</p>
<p>The page context is appropriate when your item acts on the page as a whole.  It
does not occur when the user invokes the context menu on a link, image, or other
non-text node, or while a selection exists.</p>
<h3>Declarative Contexts</h3>
<p>You can specify some simple, declarative contexts when you construct a menu
item by setting the <code>context</code> property of the options object passed to its
constructor.  Such contexts may be specified with instances of any of the
following types.  Each is a constructor exported by the <code>context-menu</code> module.</p>
<table>
  <tr>
    <td><code>
      PageContext()
    </code></td>
    <td>
      The page context.
    </td>
  </tr>
  <tr>
    <td><code>
      SelectionContext()
    </code></td>
    <td>
      This context occurs when the menu is invoked on a page that contains a
      selection.
    </td>
  </tr>
  <tr>
    <td><code>
      SelectorContext(selector)
    </code></td>
    <td>
      This context occurs when the menu is invoked on a node that either matches
      <code>selector</code>, a CSS selector,  or has an ancestor that matches.
      <code>selector</code> may include multiple selectors separated by commas,
      e.g., <code>"a[href], img"</code>.
    </td>
  </tr>
  <tr>
    <td><code>
      URLContext(matchPattern)
    </code></td>
    <td>
      This context occurs when the menu is invoked on pages with particular
      URLs.  <code>matchPattern</code> is a match pattern string or an array of
      match pattern strings.  When <code>matchPattern</code> is an array, the
      context occurs when the menu is invoked on a page whose URL matches any of
      the patterns.  These are the same match pattern strings that you use with
      the <a href="packages/addon-kit/docs/page-mod.html"><code>page-mod</code></a>
      <code>include</code> property.
      <a href="packages/api-utils/docs/match-pattern.html">Read more about patterns</a>.
    </td>
  </tr>
  <tr>
    <td>
      array
    </td>
    <td>
      An array of any of the other types.  This context occurs when all contexts
      in the array occur.
    </td>
  </tr>
</table>

<p>Menu items also have a <code>context</code> property that can be used to add and remove
declarative contexts after construction.  For example:</p>
<pre><code>var context = contextMenu.SelectorContext("img");
myMenuItem.context.add(context);
myMenuItem.context.remove(context);
</code></pre>
<p>When a menu item is bound to more than one context, it appears in the menu when
all of those contexts occur.</p>
<h3>In Content Scripts</h3>
<p>To interact with pages in the browser, you create content scripts and pass them
when constructing menu items.  Only items in the top-level context menu can have
content scripts.</p>
<p>One of the things you can do in a content script is listen for an event named
<code>"context"</code>.  This event is fired whenever the context menu is about to be
shown.  If your listener returns true, the menu item associated with the content
script is shown in the menu.</p>
<p>For example, this is an item that appears whenever the context menu is invoked
on a page whose URL contains "mozilla" as a substring:</p>
<pre><code>var myItem = contextMenu.Item({
  label: "My Mozilla Item",
  contentScript: 'self.on("context", function (node) {' +
                 '  return /mozilla/.test(document.URL);' +
                 '});'
});
</code></pre>
<p>Note that the listener function has a parameter called <code>node</code>.  This is the node
in the page that the user context-clicked to invoke the menu.  You can use it to
determine whether your item should be shown.</p>
<p>You can both specify declarative contexts and listen for contexts in a content
script.  In that case, the declarative contexts are evaluated first.  If they
are not current, then your context listener is never called.</p>
<p>This example takes advantage of that fact.  The listener can be assured that
<code>node</code> will always be an image:</p>
<pre><code>var myItem = contextMenu.Item({
  label: "My Mozilla Image Item",
  context: contextMenu.SelectorContext("img"),
  contentScript: 'self.on("context", function (node) {' +
                 '  return /mozilla/.test(node.src);' +
                 '});'
});
</code></pre>
<p>Your item is shown only when all declarative contexts are current and your
context listener returns true.</p>
<h2>Handling Menu Item Clicks</h2>
<p>In addition to using content scripts to listen for the <code>"context"</code> event as
described above, you use content scripts to handle item clicks.  When the user
clicks your menu item, an event named <code>"click"</code> is dispatched to the item's
content script.</p>
<p>Therefore, to handle an item click, listen for the <code>"click"</code> event in that
item's content script like so:</p>
<pre><code>var myItem = contextMenu.Item({
  label: "My Item",
  contentScript: 'self.on("click", function (node, data) {' +
                 '  console.log("Item clicked!");' +
                 '});'
});
</code></pre>
<p>Note that the listener function has parameters called <code>node</code> and <code>data</code>.  <code>node</code>
is the node that the user context-clicked to invoke the menu.  You can use it
when performing some action.  <code>data</code> is the <code>data</code> property of the menu item
that was clicked.  Since only top-level menu items have content scripts, this
comes in handy for <code>Menu</code>s with sub-items.  For example:</p>
<pre><code>var myMenu = contextMenu.Menu({
  label: "My Menu",
  contentScript: 'self.on("click", function (node, data) {' +
                 '  console.log("You clicked " + data);' +
                 '});',
  items: [
    contextMenu.Item({ label: "Item 1", data: "item1" }),
    contextMenu.Item({ label: "Item 2", data: "item2" }),
    contextMenu.Item({ label: "Item 3", data: "item3" })
  ]
});
</code></pre>
<p>Often you will need to collect some kind of information in the click listener
and perform an action unrelated to content.  To communicate to the menu item
associated with the content script, the content script can call the
<code>postMessage</code> function attached to the global <code>self</code> object, passing it some
JSON-able data.  The menu item's <code>onMessage</code> function will be called with that
data.</p>
<pre><code>var myItem = contextMenu.Item({
  label: "Edit Image",
  context: contextMenu.SelectorContext("img"),
  contentScript: 'self.on("click", function (node, data) {' +
                 '  self.postMessage(node.src);' +
                 '});',
  onMessage: function (imgSrc) {
    openImageEditor(imgSrc);
  }
});
</code></pre>
<h2>Examples</h2>
<p>Each of these examples can be added to the top-level scope of your program; you
only need to create an item once.  See the Introduction above for further
discussion.</p>
<p>For conciseness, these examples create their content scripts as strings and use
the <code>contentScript</code> property.  In your own add-ons, you will probably want to
create your content scripts in separate files and pass their URLs using the
<code>contentScriptFile</code> property.  See
<a href="dev-guide/addon-development/web-content.html">Working with Content Scripts</a>
for more information.</p>
<p>First, don't forget to import the module:</p>
<pre><code>var contextMenu = require("context-menu");
</code></pre>
<p>Show an "Edit Page Source" item when the user right-clicks a non-interactive
part of the page:</p>
<pre><code>var pageSourceItem = contextMenu.Item({
  label: "Edit Page Source",
  contentScript: 'self.on("click", function (node, data) {' +
                 '  self.postMessage(document.URL);' +
                 '});',
  onMessage: function (pageURL) {
    editSource(pageURL);
  }
});
</code></pre>
<p>Show an "Edit Image" item when the menu is invoked on an image:</p>
<pre><code>var editImageItem = contextMenu.Item({
  label: "Edit Image",
  context: contextMenu.SelectorContext("img"),
  contentScript: 'self.on("click", function (node, data) {' +
                 '  self.postMessage(node.src);' +
                 '});',
  onMessage: function (imgSrc) {
    openImageEditor(imgSrc);
  }
});
</code></pre>
<p>Show an "Edit Mozilla Image" item when the menu is invoked on an image in a
mozilla.org or mozilla.com page:</p>
<pre><code>var editMozImageItem = contextMenu.Item({
  label: "Edit Mozilla Image",
  context: [
    contextMenu.URLContext(["*.mozilla.org", "*.mozilla.com"]),
    contextMenu.SelectorContext("img")
  ],
  contentScript: 'self.on("click", function (node, data) {' +
                 '  self.postMessage(node.src);' +
                 '});',
  onMessage: function (imgSrc) {
    openImageEditor(imgSrc);
  }
});
</code></pre>
<p>Show an "Edit Page Images" item when the page contains at least one image:</p>
<pre><code>var editImagesItem = contextMenu.Item({
  label: "Edit Page Images",
  // This ensures the item only appears during the page context.
  context: contextMenu.PageContext(),
  contentScript: 'self.on("context", function (node) {' +
                 '  var pageHasImgs = !!document.querySelector("img");' +
                 '  return pageHasImgs;' +
                 '});' +
                 'self.on("click", function (node, data) {' +
                 '  var imgs = document.querySelectorAll("img");' +
                 '  var imgSrcs = [];' +
                 '  for (var i = 0 ; i &lt; imgs.length; i++)' +
                 '    imgSrcs.push(imgs[i].src);' +
                 '  self.postMessage(imgSrcs);' +
                 '});',
  onMessage: function (imgSrcs) {
    openImageEditor(imgSrcs);
  }
});
</code></pre>
<p>Show a "Search With" menu when the user right-clicks an anchor that searches
Google or Wikipedia with the text contained in the anchor:</p>
<pre><code>var googleItem = contextMenu.Item({
  label: "Google",
  data: "http://www.google.com/search?q="
});
var wikipediaItem = contextMenu.Item({
  label: "Wikipedia",
  data: "http://en.wikipedia.org/wiki/Special:Search?search="
});
var searchMenu = contextMenu.Menu({
  label: "Search With",
  context: contextMenu.SelectorContext("a[href]"),
  contentScript: 'self.on("click", function (node, data) {' +
                 '  var searchURL = data + node.textContent;' +
                 '  window.location.href = searchURL;' +
                 '});',
  items: [googleItem, wikipediaItem]
});
</code></pre>
<p>Dynamically set an item's label based on the number of times it's been clicked:</p>
<pre><code>var numClicks = 0;
contextMenu.Item({
  label: "Click Me: " + numClicks,
  contentScript: 'self.on("click", self.postMessage);',
  onMessage: function () {
    this.label = "Click Me: " + (++numClicks);
  }
});
</code></pre>
</div>

<div class="api_reference">
<h2 class="api_header">API Reference</h2>

<div class="api_component_group">
<h3 class="api_header">Classes</h3>

<div class="api_component">
<h4 class="api_name">Item</h4>
<p>A labeled menu item that can perform an action when clicked.</p>
<div class="api_component_group">
<h5 class="api_header">Constructors</h5>

<div class="api_component">
<h6 class="api_name">Item(options)</h6>
<p>Creates a labeled menu item that can perform an action when clicked.</p>
<div class="parameter_set">
<div class="api_component">
<div class="api_name">options : <span class="datatype">object</span></div>
<p>An object with the following keys:</p>
<div class="api_component">
<div class="api_name">label : <span class="datatype">string</span></div>
<p>The item's label.  It must either be a string or an object that implements
<code>toString()</code>.</p>
</div>

<div class="api_component">
<div class="api_name">[ data : <span class="datatype">string</span> ]</div>
<p>An optional arbitrary value to associate with the item.  It must be either a
string or an object that implements <code>toString()</code>.  It will be passed to
click listeners.</p>
</div>

<div class="api_component">
<div class="api_name">[ context : <span class="datatype">value</span> ]</div>
<p>If the item is contained in the top-level context menu, this declaratively
specifies the context under which the item will appear; see Specifying
Contexts above.  Ignored if the item is contained in a submenu.</p>
</div>

<div class="api_component">
<div class="api_name">[ contentScript : <span class="datatype">string,array</span> ]</div>
<p>If the item is contained in the top-level context menu, this is the content
script or an array of content scripts that the item can use to interact with
the page.  Ignored if the item is contained in a submenu.</p>
</div>

<div class="api_component">
<div class="api_name">[ contentScriptFile : <span class="datatype">string,array</span> ]</div>
<p>If the item is contained in the top-level context menu, this is the local
file URL of the content script or an array of such URLs that the item can
use to interact with the page.  Ignored if the item is contained in a
submenu.</p>
</div>

<div class="api_component">
<div class="api_name">[ onMessage : <span class="datatype">function</span> ]</div>
<p>If the item is contained in the top-level context menu, this function will
be called when the content script calls <code>self.postMessage</code>.  It will be
passed the data that was passed to <code>postMessage</code>.  Ignored if the item is
contained in a submenu.</p>
</div>

</div>

</div>

</div>

</div>

<div class="api_component_group">
<h5 class="api_header">Methods</h5>

<div class="api_component">
<h6 class="api_name">destroy()</h6>
<p>Permanently removes the item from the top-level context menu.  If the item is
not contained in the top-level context menu, this method does nothing.</p>
</div>

</div>

<div class="api_component_group">
<h5 class="api_header">Properties</h5>

<div class="api_component">
<h6 class="api_name">label : <span class="datatype">string</span></h6>
<p>The menu item's label.  You can set this after creating the item to update its
label later.</p>
</div>

<div class="api_component">
<h6 class="api_name">data : <span class="datatype">string</span></h6>
<p>An arbitrary value associated with the menu item during creation.  Currently
this property is read-only.</p>
</div>

<div class="api_component">
<h6 class="api_name">context : <span class="datatype">list</span></h6>
<p>A list of declarative contexts for which the menu item will appear in the
context menu.  Contexts can be added by calling <code>context.add()</code> and removed by
called <code>context.remove()</code>.  This property is meaningful only for items
contained in the top-level context menu.</p>
</div>

<div class="api_component">
<h6 class="api_name">contentScript : <span class="datatype">string,array</span></h6>
<p>The content script or the array of content scripts associated with the menu
item during creation.  This property is meaningful only for items contained in
the top-level context menu.</p>
</div>

<div class="api_component">
<h6 class="api_name">contentScriptFile : <span class="datatype">string,array</span></h6>
<p>The URL of a content script or the array of such URLs associated with the menu
item during creation.  This property is meaningful only for items contained in
the top-level context menu.</p>
</div>

</div>

<div class="api_component_group">
<h5 class="api_header">Events</h5>

<div class="api_component">
<h6 class="api_name">message</h6>
<p>If you listen to this event you can receive message events from content
scripts associated with this menu item. When a content script posts a
message using <code>self.postMessage()</code>, the message is delivered to the add-on
code in the menu item's <code>message</code> event.</p>
<div class="parameter_set">
<div class="api_component">
<div class="api_name"><span class="datatype">value</span></div>
<p>Listeners are passed a single argument which is the message posted
from the content script. The message can be any
<a href = "dev-guide/addon-development/web-content.html#json_serializable">JSON-serializable value</a>.</p>
</div>

</div>

</div>

</div>

</div>

<div class="api_component">
<h4 class="api_name">Menu</h4>
<p>A labeled menu item that expands into a submenu.</p>
<div class="api_component_group">
<h5 class="api_header">Constructors</h5>

<div class="api_component">
<h6 class="api_name">Menu(options)</h6>
<p>Creates a labeled menu item that expands into a submenu.</p>
<div class="parameter_set">
<div class="api_component">
<div class="api_name">options : <span class="datatype">object</span></div>
<p>An object with the following keys:</p>
<div class="api_component">
<div class="api_name">label : <span class="datatype">string</span></div>
<p>The item's label.  It must either be a string or an object that implements
<code>toString()</code>.</p>
</div>

<div class="api_component">
<div class="api_name">items : <span class="datatype">array</span></div>
<p>An array of menu items that the menu will contain.  Each must be an <code>Item</code>,
<code>Menu</code>, or <code>Separator</code>.</p>
</div>

<div class="api_component">
<div class="api_name">[ context : <span class="datatype">value</span> ]</div>
<p>If the menu is contained in the top-level context menu, this declaratively
specifies the context under which the menu will appear; see Specifying
Contexts above.  Ignored if the menu is contained in a submenu.</p>
</div>

<div class="api_component">
<div class="api_name">[ contentScript : <span class="datatype">string,array</span> ]</div>
<p>If the menu is contained in the top-level context menu, this is the content
script or an array of content scripts that the menu can use to interact with
the page.  Ignored if the menu is contained in a submenu.</p>
</div>

<div class="api_component">
<div class="api_name">[ contentScriptFile : <span class="datatype">string,array</span> ]</div>
<p>If the menu is contained in the top-level context menu, this is the local
file URL of the content script or an array of such URLs that the menu can
use to interact with the page.  Ignored if the menu is contained in a
submenu.</p>
</div>

<div class="api_component">
<div class="api_name">[ onMessage : <span class="datatype">function</span> ]</div>
<p>If the menu is contained in the top-level context menu, this function will
be called when the content script calls <code>self.postMessage</code>.  It will be
passed the data that was passed to <code>postMessage</code>.  Ignored if the item is
contained in a submenu.</p>
</div>

</div>

</div>

</div>

</div>

<div class="api_component_group">
<h5 class="api_header">Methods</h5>

<div class="api_component">
<h6 class="api_name">destroy()</h6>
<p>Permanently removes the menu from the top-level context menu.  If the menu is
not contained in the top-level context menu, this method does nothing.</p>
</div>

</div>

<div class="api_component_group">
<h5 class="api_header">Properties</h5>

<div class="api_component">
<h6 class="api_name">label : <span class="datatype">string</span></h6>
<p>The menu's label.  You can set this after creating the menu to update its
label later.</p>
</div>

<div class="api_component">
<h6 class="api_name">items : <span class="datatype">array</span></h6>
<p>The menu items contained in the menu.  Currently the items in the menu cannot
be changed by modifying this property.</p>
</div>

<div class="api_component">
<h6 class="api_name">context : <span class="datatype">list</span></h6>
<p>A list of declarative contexts for which the menu will appear in the context
menu.  Contexts can be added by calling <code>context.add()</code> and removed by called
<code>context.remove()</code>.  This property is meaningful only for menus contained in
the top-level context menu.</p>
</div>

<div class="api_component">
<h6 class="api_name">contentScript : <span class="datatype">string,array</span></h6>
<p>The content script or the array of content scripts associated with the menu
during creation.  This property is meaningful only for menus contained in the
top-level context menu.</p>
</div>

<div class="api_component">
<h6 class="api_name">contentScriptFile : <span class="datatype">string,array</span></h6>
<p>The URL of a content script or the array of such URLs associated with the menu
during creation.  This property is meaningful only for menus contained in the
top-level context menu.</p>
</div>

</div>

<div class="api_component_group">
<h5 class="api_header">Events</h5>

<div class="api_component">
<h6 class="api_name">message</h6>
<p>If you listen to this event you can receive message events from content
scripts associated with this menu item. When a content script posts a
message using <code>self.postMessage()</code>, the message is delivered to the add-on
code in the menu item's <code>message</code> event.</p>
<div class="parameter_set">
<div class="api_component">
<div class="api_name"><span class="datatype">value</span></div>
<p>Listeners are passed a single argument which is the message posted
from the content script. The message can be any
<a href = "dev-guide/addon-development/web-content.html#json_serializable">JSON-serializable value</a>.</p>
</div>

</div>

</div>

</div>

</div>

<div class="api_component">
<h4 class="api_name">Separator</h4>
<p>A menu separator.  Separators can be contained only in <code>Menu</code>s, not in the
top-level context menu.</p>
<div class="api_component_group">
<h5 class="api_header">Constructors</h5>

<div class="api_component">
<h6 class="api_name">Separator()</h6>
<p>Creates a menu separator.</p>
</div>

</div>

</div>

<div class="api_component">
<h4 class="api_name">PageContext</h4>

<div class="api_component_group">
<h5 class="api_header">Constructors</h5>

<div class="api_component">
<h6 class="api_name">PageContext()</h6>
<p>Creates a page context.  See Specifying Contexts above.</p>
</div>

</div>

</div>

<div class="api_component">
<h4 class="api_name">SelectionContext</h4>

<div class="api_component_group">
<h5 class="api_header">Constructors</h5>

<div class="api_component">
<h6 class="api_name">SelectionContext()</h6>
<p>Creates a context that occurs when a page contains a selection.  See
Specifying Contexts above.</p>
</div>

</div>

</div>

<div class="api_component">
<h4 class="api_name">SelectorContext</h4>

<div class="api_component_group">
<h5 class="api_header">Constructors</h5>

<div class="api_component">
<h6 class="api_name">SelectorContext(selector)</h6>
<p>Creates a context that matches a given CSS selector.  See Specifying Contexts
above.</p>
<div class="parameter_set">
<div class="api_component">
<div class="api_name">selector : <span class="datatype">string</span></div>
<p>A CSS selector.</p>
</div>

</div>

</div>

</div>

</div>

<div class="api_component">
<h4 class="api_name">URLContext</h4>

<div class="api_component_group">
<h5 class="api_header">Constructors</h5>

<div class="api_component">
<h6 class="api_name">URLContext(matchPattern)</h6>
<p>Creates a context that matches pages with particular URLs.  See Specifying
Contexts above.</p>
<div class="parameter_set">
<div class="api_component">
<div class="api_name">matchPattern : <span class="datatype">string,array</span></div>
<p>A <a href="packages/api-utils/docs/match-pattern.html">match pattern</a> string or an array of
match pattern strings.</p>
</div>

</div>

</div>

</div>

</div>

</div>

</div>

</div>
</div>
  </div>

  <div id="sidebar" class="column">
    <div class="sidebar-section" id="addon-development">
      <h2 class="sidebar-section-header"><a href="dev-guide/addon-development/about.html">Developer Guide</a></h2>
      <div class="sidebar-section-contents" id="default-section-contents">

        <div class="sidebar-subsection">
          <h3><a href="dev-guide/addon-development/installation.html">Installation</a></h3>
          <div class="divider"></div>
          <h3 class="sidebar-subsection-header"><a href="dev-guide/addon-development/tutorials.html">Tutorials</a></h3>
          <div class="sidebar-subsection-contents">
          <ul>
            <li><h4><a href="dev-guide/addon-development/getting-started.html">Getting Started</a></h4>
            <ul>
              <li><a href="dev-guide/addon-development/implementing-simple-addon.html">A Simple Add-on</a></li>
              <li><a href="dev-guide/addon-development/commonjs.html">CommonJS</a></li>
              <li><a href="dev-guide/addon-development/implementing-reusable-module.html">Reusable Modules</a></li>
              <li><a href="dev-guide/addon-development/troubleshooting.html">Troubleshooting</a></li>
            </ul></li>
            <li><h4><a href="dev-guide/addon-development/api-intro.html" >Introducing the APIs</a></h4>
            <ul>
              <li><a href="dev-guide/addon-development/api-idioms.html">Common Idioms</a></li>
              <li><a href="dev-guide/addon-development/api-modules.html">API Overview</a></li>
            </ul></li>
            <li><h4><a href="dev-guide/addon-development/annotator/annotator.html">Annotator: a More Complex Add-on</a></h4>
            <ul>
              <li><a href="dev-guide/addon-development/annotator/overview.html">Design Overview</a></li>
              <li><a href="dev-guide/addon-development/annotator/widget.html">Implementing the Widget</a></li>
              <li><a href="dev-guide/addon-development/annotator/creating.html">Creating Annotations</a></li>
              <li><a href="dev-guide/addon-development/annotator/storing.html">Storing Annotations</a></li>
              <li><a href="dev-guide/addon-development/annotator/displaying.html">Displaying Annotations</a></li>
            </ul></li>
          </ul>
          </div>
        </div>

        <div class="sidebar-subsection">
          <div class="divider"></div>
          <h3 class="sidebar-subsection-header"><a href="dev-guide/addon-development/guides.html">Programming Guides</a></h3>
          <div class="sidebar-subsection-contents">
          <ul>
            <li><h4><a href="dev-guide/addon-development/two-types-of-scripts.html">Two Types of Scripts</a></h4></li>
            <li><h4><a href="dev-guide/addon-development/events.html">Working with Events</a></h4></li>
            <li><h4><a href="dev-guide/addon-development/web-content.html">Working with Content Scripts</a></h4></li>
            <li><h4><a href="dev-guide/addon-development/program-id.html">The Program ID</a></h4></li>
            <li><h4><a href="dev-guide/addon-development/module-search.html">Module Search</a></h4></li>
          </ul>
          </div>
        </div>

        <div class="sidebar-subsection">
          <div class="divider"></div>
          <h3 class="sidebar-subsection-header"><a href="dev-guide/addon-development/reference.html">Reference</a></h3>
          <div class="sidebar-subsection-contents always-show">
          <ul>
            <li id="high-level-package-summaries">
<div style="display: block;" class="package-summary">
<h4>
<a href="packages/addon-kit/addon-kit.html">addon-kit</a>
</h4>

<ul class="modules">
<li class="module">
<a href="packages/addon-kit/docs/clipboard.html">clipboard</a>
</li>

<li class="module">
<a href="packages/addon-kit/docs/context-menu.html">context-menu</a>
</li>

<li class="module">
<a href="packages/addon-kit/docs/hotkeys.html">hotkeys</a>
</li>

<li class="module">
<a href="packages/addon-kit/docs/notifications.html">notifications</a>
</li>

<li class="module">
<a href="packages/addon-kit/docs/page-mod.html">page-mod</a>
</li>

<li class="module">
<a href="packages/addon-kit/docs/page-worker.html">page-worker</a>
</li>

<li class="module">
<a href="packages/addon-kit/docs/panel.html">panel</a>
</li>

<li class="module">
<a href="packages/addon-kit/docs/passwords.html">passwords</a>
</li>

<li class="module">
<a href="packages/addon-kit/docs/private-browsing.html">private-browsing</a>
</li>

<li class="module">
<a href="packages/addon-kit/docs/request.html">request</a>
</li>

<li class="module">
<a href="packages/addon-kit/docs/selection.html">selection</a>
</li>

<li class="module">
<a href="packages/addon-kit/docs/simple-storage.html">simple-storage</a>
</li>

<li class="module">
<a href="packages/addon-kit/docs/tabs.html">tabs</a>
</li>

<li class="module">
<a href="packages/addon-kit/docs/timers.html">timers</a>
</li>

<li class="module">
<a href="packages/addon-kit/docs/widget.html">widget</a>
</li>

<li class="module">
<a href="packages/addon-kit/docs/windows.html">windows</a>
</li>
</ul>
</div>
</li>
            <li><h4><a href="dev-guide/addon-development/console.html">console</a></h4></li>
            <li><h4><a href="dev-guide/addon-development/cfx-tool.html">cfx</a></h4></li>
            <li><h4><a href="dev-guide/addon-development/package-spec.html">Package Specification</a></h4></li>
          </ul>
          </div>
        </div>

      </div>
    </div>

    <div class="sidebar-section" id="module-development">
      <h2 class="sidebar-section-header"><a href="dev-guide/module-development/about.html">Internals Guide</a></h2>
      <div class="sidebar-section-contents">

        <div class="sidebar-subsection">
          <h3 class="sidebar-subsection-header"><a href="dev-guide/module-development/guides.html">Programming Guides</a></h3>
          <div class="sidebar-subsection-contents">
          <ul>
            <li><h4><a href="dev-guide/module-development/best-practices.html">Low-Level Module Best Practices</a></h4>
            <li><h4><a href="dev-guide/module-development/chrome.html">Chrome Authority</a></h4>
            <li><h4><a href="dev-guide/module-development/xpi.html">XPI Generation</a></h4>
            <li><h4><a href="dev-guide/module-development/e10s.html">Out-of-Process Add-ons</a></h4>
          </ul>
          </div>
        </div>

        <div class="sidebar-subsection">
          <div class="divider"></div>
          <h3 class="sidebar-subsection-header"><a href="dev-guide/module-development/reference.html">Reference</a></h3>
          <div class="sidebar-subsection-contents">
          <ul>
            <li id="low-level-package-summaries">
<div style="display: block;" class="package-summary">
<h4>
<a href="packages/api-utils/api-utils.html">api-utils</a>
</h4>

<ul class="modules">
<li class="module">
<a href="packages/api-utils/docs/api-utils.html">api-utils</a>
</li>

<li class="module">
<a href="packages/api-utils/docs/app-strings.html">app-strings</a>
</li>

<li class="module">
<a href="packages/api-utils/docs/byte-streams.html">byte-streams</a>
</li>

<li class="module">
<a href="packages/api-utils/docs/collection.html">collection</a>
</li>

<li class="module">
<a href="packages/api-utils/docs/content.html">content</a>
</li>

<li class="module">
<a href="packages/api-utils/docs/content/loader.html">content/loader</a>
</li>

<li class="module">
<a href="packages/api-utils/docs/content/symbiont.html">content/symbiont</a>
</li>

<li class="module">
<a href="packages/api-utils/docs/content/worker.html">content/worker</a>
</li>

<li class="module">
<a href="packages/api-utils/docs/cortex.html">cortex</a>
</li>

<li class="module">
<a href="packages/api-utils/docs/cuddlefish.html">cuddlefish</a>
</li>

<li class="module">
<a href="packages/api-utils/docs/e10s.html">e10s</a>
</li>

<li class="module">
<a href="packages/api-utils/docs/errors.html">errors</a>
</li>

<li class="module">
<a href="packages/api-utils/docs/events.html">events</a>
</li>

<li class="module">
<a href="packages/api-utils/docs/file.html">file</a>
</li>

<li class="module">
<a href="packages/api-utils/docs/hidden-frame.html">hidden-frame</a>
</li>

<li class="module">
<a href="packages/api-utils/docs/light-traits.html">light-traits</a>
</li>

<li class="module">
<a href="packages/api-utils/docs/list.html">list</a>
</li>

<li class="module">
<a href="packages/api-utils/docs/match-pattern.html">match-pattern</a>
</li>

<li class="module">
<a href="packages/api-utils/docs/memory.html">memory</a>
</li>

<li class="module">
<a href="packages/api-utils/docs/observer-service.html">observer-service</a>
</li>

<li class="module">
<a href="packages/api-utils/docs/plain-text-console.html">plain-text-console</a>
</li>

<li class="module">
<a href="packages/api-utils/docs/preferences-service.html">preferences-service</a>
</li>

<li class="module">
<a href="packages/api-utils/docs/securable-module.html">securable-module</a>
</li>

<li class="module">
<a href="packages/api-utils/docs/tab-browser.html">tab-browser</a>
</li>

<li class="module">
<a href="packages/api-utils/docs/text-streams.html">text-streams</a>
</li>

<li class="module">
<a href="packages/api-utils/docs/traceback.html">traceback</a>
</li>

<li class="module">
<a href="packages/api-utils/docs/traits.html">traits</a>
</li>

<li class="module">
<a href="packages/api-utils/docs/unit-test.html">unit-test</a>
</li>

<li class="module">
<a href="packages/api-utils/docs/unload.html">unload</a>
</li>

<li class="module">
<a href="packages/api-utils/docs/url.html">url</a>
</li>

<li class="module">
<a href="packages/api-utils/docs/window-utils.html">window-utils</a>
</li>

<li class="module">
<a href="packages/api-utils/docs/xhr.html">xhr</a>
</li>

<li class="module">
<a href="packages/api-utils/docs/xpcom.html">xpcom</a>
</li>

<li class="module">
<a href="packages/api-utils/docs/xul-app.html">xul-app</a>
</li>
</ul>
</div>

<div style="display: block;" class="package-summary">
<h4>
<a href="packages/test-harness/test-harness.html">test-harness</a>
</h4>

<ul class="modules">
<li class="module">
<a href="packages/test-harness/docs/harness.html">harness</a>
</li>

<li class="module">
<a href="packages/test-harness/docs/run-tests.html">run-tests</a>
</li>
</ul>
</div>

<div style="display: block;" class="package-summary">
<h4>
<a href="packages/development-mode/development-mode.html">development-mode</a>
</h4>

<ul class="modules">
<li class="module">
<a href="packages/development-mode/docs/bootstrap.html">bootstrap</a>
</li>

<li class="module">
<a href="packages/development-mode/docs/main.html">main</a>
</li>
</ul>
</div>
</li>
            <li><h4><a href="dev-guide/module-development/globals.html">Globals</a></h4></li>
          </ul>
          </div>
        </div>
      </div>
    </div>

    <div class="sidebar-section" id="appendices">
        <h3><a href="https://wiki.mozilla.org/Labs/Jetpack/Release_Notes">Release Notes</a></h3>
          <div class="divider"></div>
        <h3><a href="https://wiki.mozilla.org/Labs/Jetpack">Jetpack Wiki</a></h3>
          <div class="divider"></div>
        <h3><a href="dev-guide/appendices/glossary.html">Glossary</a></h3>
          <div class="divider"></div>
        <h3><a href="dev-guide/appendices/credits.html">Credits</a></h3>

    </div>
<!--end of sidebar column-->
  </div>
<!--end of 'columns'-->
<div class="clearfooter"></div>
</div>
</div>

<div role="contentinfo" id="footer">
  <div class="section">
    <img alt="" src="media/footer-logo-med.png" class="footerlogo">
    <div id="social-footer">
      <ul>
        <li>get to know <b>add-ons</b></li>
        <li><a href="https://addons.mozilla.org/en-US/firefox/about">About</a></li>
        <li><a href="http://blog.mozilla.com/addons">Blog</a></li>
        <li class="footer-devhub-link"><a href="https://addons.mozilla.org/en-US/developers/">Developer Hub</a></li>
        <li><a href="https://addons.mozilla.org/en-US/firefox/faq">FAQ</a></li>
        <li><a href="https://forums.addons.mozilla.org">Forum</a></li>
      </ul>
    </div>

    <div id="copyright">
      <p id="footer-links">
        <a href="http://mozilla.com/privacy-policy.html">Privacy Policy</a> &nbsp;|&nbsp;
        <a href="http://mozilla.com/about/legal.html">Legal Notices</a> &nbsp;|&nbsp;
        <a href="http://mozilla.com/legal/fraud-report/index.html">Report Trademark Abuse</a>
    &nbsp;|&nbsp;<a href="https://addons.mozilla.org/z/en-US/developers/" class="mobile-link">View Mobile Site</a>
      </p>
      <p>
      Except where otherwise <a href="http://mozilla.com/about/legal.html#site">noted</a>, content on this site is licensed under the <br> <a href="http://creativecommons.org/licenses/by-sa/3.0/"> Creative Commons Attribution Share-Alike License v3.0 </a> or any later version.
      </p>
    </div>
  </div>
</div>

<script type="text/javascript" src="js/jquery.js"></script>
<script type="text/javascript" src="js/main.js"></script>

</body>

</html>
